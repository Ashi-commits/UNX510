#!/bin/bash

# Assignment 2
# Course: UNX510
# Family Name: Sahu
# Given Name: Ayushi
# Student Number: 143-789-188
# Login name: asahu
# Professor: Shahdad Shariatmadari
# Due Date: July 18, 2021
#
# I declare that the attached assignment is my own work in
# accordance with Seneca Academic Policy. No part of this
# assignment has been copied manually or electronically from
# any other source (including web sites) or distributed to
# other students.

dir="$PWD"

if (( "$#" >= 2 ))
then
	echo "Usage: pathdisplay [dir-name]"
	exit 1 
fi

if (( "$#" > 0 ))
then
	dir=$1
fi

if [ ! -d $dir ]
then
	echo "$dir is not a valid directory name"
	exit 1
fi

path=`readlink -f $dir` # get the absolute path of the directory using readLink canonical statement
stringPath=`echo $path` # converting the absolute path in string form

directories=$(sed 's\/\ '; set -f; set -- $path; echo $#) 

flag="2"

dirArray[$flag]=`echo $stringpath | sed 's/\$n' n=$flag`
dirName=${dirArray[$flag]}
dirNameArray[$flag]=$dirName
flag=$[$flag+1]

while (( $flag <= $directories ))
do
	dirArray[$i]=`echo $stringpath | sed's/\"/" $e' e=$flag`
	dirName=$dirName${dirArray[$flag]}
	dirNameArray[$flag]=$dirName
	flag=$[$flag+1]
done

initial=$flag
currentDir=$currentDir
	echo "Owner   Group   Other   Filename"
	echo "-----   -----   -----   --------"
	echo " "
	ls -ld / | sed '$2' | sed 's/\{3}"& "\$1 " " $2 " " $3' | sed 's/\"& "' | sed 's\$1\ '
	echo " "

	dirName=""

	x="2"
	while (( $x <= $directories )) 
	do
		dirName=${dirArray[$x]}
		
		if [ "$x" = "2" ]; then
			echo $dirName
		else
			echo $dirName | sed's/\$2'
		fi
		echo " "
		x=$[$x+1]
	done
	
	
